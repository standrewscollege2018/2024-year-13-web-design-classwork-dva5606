{"version":3,"file":"_server.ts-EaQTiTXr.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/textToSpeech/_server.ts.js"],"sourcesContent":["import { e as error, j as json } from \"../../../../chunks/index.js\";\nimport OpenAI from \"openai\";\nconst openai = new OpenAI({ apiKey: \"\" });\nconst POST = async ({ request }) => {\n  const { text } = await request.json();\n  if (!text) {\n    throw error(400, \"Text input is required\");\n  }\n  try {\n    const mp3 = await openai.audio.speech.create({\n      model: \"tts-1\",\n      voice: \"alloy\",\n      input: text\n    });\n    const buffer = Buffer.from(await mp3.arrayBuffer());\n    const audioBase64 = buffer.toString(\"base64\");\n    return json({ audio: audioBase64 });\n  } catch (err) {\n    console.error(\"Error creating audio:\", err);\n    throw error(500, \"Internal Server Error\");\n  }\n};\nexport {\n  POST\n};\n"],"names":[],"mappings":";;;AAEA,MAAM,MAAM,GAAG,IAAI,MAAM,CAAC,EAAE,MAAM,EAAE,qDAAqD,EAAE,CAAC,CAAC;AACxF,MAAC,IAAI,GAAG,OAAO,EAAE,OAAO,EAAE,KAAK;AACpC,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE,CAAC;AACxC,EAAE,IAAI,CAAC,IAAI,EAAE;AACb,IAAI,MAAM,KAAK,CAAC,GAAG,EAAE,wBAAwB,CAAC,CAAC;AAC/C,GAAG;AACH,EAAE,IAAI;AACN,IAAI,MAAM,GAAG,GAAG,MAAM,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC;AACjD,MAAM,KAAK,EAAE,OAAO;AACpB,MAAM,KAAK,EAAE,OAAO;AACpB,MAAM,KAAK,EAAE,IAAI;AACjB,KAAK,CAAC,CAAC;AACP,IAAI,MAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC;AACxD,IAAI,MAAM,WAAW,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;AAClD,IAAI,OAAO,IAAI,CAAC,EAAE,KAAK,EAAE,WAAW,EAAE,CAAC,CAAC;AACxC,GAAG,CAAC,OAAO,GAAG,EAAE;AAChB,IAAI,OAAO,CAAC,KAAK,CAAC,uBAAuB,EAAE,GAAG,CAAC,CAAC;AAChD,IAAI,MAAM,KAAK,CAAC,GAAG,EAAE,uBAAuB,CAAC,CAAC;AAC9C,GAAG;AACH;;;;"}